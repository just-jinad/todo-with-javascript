<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous"> 
    <link rel="stylesheet" href="./todo.css">
    <title>Page 2</title>
    </head>
    <body class="bg-info">
        <div class="container bg-white mt-5 rounded w-50" style="height: 330px;" id="page2">
        <h6 class="fst-italic text-center">Fill in details below</h6>
        <h6>Email</h6>
        <input class="form-control my-2" type="email" placeholder="Email.." id="em"><br>
        <h6>Password</h6>
        <input class="form-control my-2" type="password" placeholder="Password" id="pw"><br>
        <button class="btn btn-warning fw-bolder form-control text-white" onclick="signIn()">Sign In</button>
        </div>
        <p class="text-center text-white">Not having an account? <a class="text-black fw-bold" href="">Sign up Here</a></p>
        <script>
            let userDetails = JSON.parse(localStorage.getItem("todoPro"))
            console.log(userDetails)
            function signIn(){
                let userEmails = em.value
                let userPin = pw.value
                let read = false

                for (let index = 0; index < userDetails.length; index++) {
                if(userDetails[index].email == userEmails && userDetails[index].password==userPin){
                    localStorage.setItem("currentUser", index)
                    read = true
                    
                }
                    
                }
              if(read==true){
                window.location.href = "todoRedo3.html"
              }else{
                alert ("wrong details")
              }
            }
        </script>
    </body>
</html>